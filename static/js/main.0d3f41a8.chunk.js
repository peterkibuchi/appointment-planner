(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(19),i=n.n(a),o=n(11),r=n(17),s=n(4),l=n(2),j=n(0),u=function(e){var t=e.contact,n=e.contacts,c=e.handleContactChange;return Object(j.jsxs)("select",{name:"contact",value:t,onChange:c,required:!0,children:[Object(j.jsx)("option",{value:"Not Specified"},"none"),n.map((function(e,t){return Object(j.jsx)("option",{value:e.name,children:e.name},t)}))]})},m=function(e){var t=e.title,n=e.setTitle,c=e.contact,a=e.setContact,i=e.date,o=e.setDate,r=e.time,l=e.setTime,m=e.contacts,b=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:b,children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(j.jsx)("input",{type:"text",name:"title",id:"title",minLength:"4",maxLength:"64",placeholder:"e.g Desert Tour",value:t,onChange:function(e){n(e.target.value)},required:!0}),Object(j.jsx)("label",{htmlFor:"contact",children:"Contact:"}),Object(j.jsx)(u,{id:"contact",contact:c,contacts:m,handleContactChange:function(e){a(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"date",children:"Date:"}),Object(j.jsx)("input",{type:"date",name:"date",id:"date",min:function(){var e=(new Date).toLocaleDateString("en-US").split("/"),t=Object(s.a)(e,3),n=t[0],c=t[1],a=t[2];return"".concat(a,"-").concat(n.padStart(2,"0"),"-").concat(c.padStart(2,"0"))}(),value:i,onChange:function(e){o(e.target.value)},required:!0}),Object(j.jsx)("label",{htmlFor:"time",children:"Time:"}),Object(j.jsx)("input",{type:"time",name:"time",id:"time",value:r,onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"submit"})]})},b=function(e){var t,n=e.page;return"contacts"===n?t=Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Occupation"}),Object(j.jsx)("th",{children:"Phone Number"}),Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("th",{children:"Remove"})]}):"appointments"===n&&(t=Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Contact"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Time"}),Object(j.jsx)("th",{children:"Remove"})]})),Object(j.jsx)("thead",{children:t})},h=function(e){var t=e.items,n=e.removeItem,c=t.map((function(e,t){var c=Object.values(e);return Object(j.jsxs)("tr",{children:[c.map((function(e,t){return Object(j.jsx)("td",{children:e},t)})),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:function(){return n(t)},children:"Delete"})},"remove")]},t)}));return Object(j.jsx)("tbody",{children:c})},d=function(e){var t=e.page,n=e.items,c=e.removeItem;return Object(j.jsxs)("table",{children:[Object(j.jsx)(b,{page:t}),Object(j.jsx)(h,{items:n,removeItem:c})]})},O=function(e){var t=e.contacts,n=e.appointments,a=e.addAppointment,i=e.removeAppointment,o=Object(c.useState)(""),r=Object(s.a)(o,2),l=r[0],u=r[1],b=Object(c.useState)(""),h=Object(s.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(""),f=Object(s.a)(x,2),g=f[0],v=f[1],S=Object(c.useState)(""),C=Object(s.a)(S,2),N=C[0],y=C[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Add Appointment"}),Object(j.jsx)(m,{title:l,setTitle:u,contact:O,setContact:p,date:g,setDate:v,time:N,setTime:y,contacts:t,handleSubmit:function(e){e.preventDefault(),a(l,O,g,N),u(""),p(""),v(""),y("")}})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Appointments"}),Object(j.jsx)(d,{page:"appointments",items:n,removeItem:i})]})]})},p=function(e){var t=e.name,n=e.setName,c=e.occupation,a=e.setOccupation,i=e.phoneNumber,o=e.setPhoneNumber,r=e.email,s=e.setEmail,l=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:l,children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)("input",{type:"text",name:"name",id:"name",minLength:"4",maxLength:"32",placeholder:"e.g. Liet Kynes",value:t,onChange:function(e){n(e.target.value)},required:!0}),Object(j.jsx)("label",{htmlFor:"occupation",children:"Occupation:"}),Object(j.jsx)("input",{type:"text",name:"occupation",id:"occupation",minLength:"4",maxLength:"32",placeholder:"e.g Imperial Ecologist",value:c,onChange:function(e){a(e.target.value)},required:!0}),Object(j.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),Object(j.jsx)("input",{type:"tel",name:"phoneNumber",id:"phoneNumber",pattern:"^(\\(?\\+?[0-9]*\\)?)?[0-9_\\- \\(\\)]*$",placeholder:"e.g +254-712-345678",value:i,onChange:function(e){o(e.target.value)},required:!0}),Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{type:"email",name:"email",id:"email",minLength:"8",maxLength:"32",placeholder:"e.g. lietkynes@arrakis.com",value:r,onChange:function(e){s(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"submit"})]})},x=function(e){var t=e.contacts,n=e.addContact,a=e.removeContact,i=Object(c.useState)(""),o=Object(s.a)(i,2),r=o[0],l=o[1],u=Object(c.useState)(""),m=Object(s.a)(u,2),b=m[0],h=m[1],O=Object(c.useState)(""),x=Object(s.a)(O,2),f=x[0],g=x[1],v=Object(c.useState)(""),S=Object(s.a)(v,2),C=S[0],N=S[1],y=Object(c.useState)(!1),I=Object(s.a)(y,2),D=I[0],T=I[1];Object(c.useEffect)((function(){T(!1),t.forEach((function(e){r===e.name&&b===e.occupation&&T(!0)}))}),[r,b]);return Object(j.jsxs)("div",{children:[Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Add Contact"}),Object(j.jsx)(p,{name:r,setName:l,occupation:b,setOccupation:h,phoneNumber:f,setPhoneNumber:g,email:C,setEmail:N,handleSubmit:function(e){e.preventDefault(),D?console.log("Couldn't create new contact. Check if contact already exists and whether form inputs have been entered correctly."):(n(r,b,f,C),l(""),h(""),g(""),N(""))}})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Contacts"}),Object(j.jsx)(d,{page:"contacts",items:t,removeItem:a})]})]})};var f=function(){var e=Object(c.useState)([{name:"Jessica Atreides",occupation:"Bene Gesserit",phoneNumber:"+44-701-020304",email:"jessica@caladan.com"},{name:"Duncan Idaho",occupation:"Sword Master",phoneNumber:"+1 790 639723",email:"duncan@atreides.com"},{name:"Dr. Yueh",occupation:"Suk Doctor",phoneNumber:"0769 420420",email:"yueh@wanna.com"},{name:"Stilgar",occupation:"Naib of Sietch Tabr",phoneNumber:"+10 720 121999",email:"stil@tabr.com"}]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([{title:"'Thopter Training",contact:"Duncan Idaho",date:"10190-07-21",time:"14:00"},{title:"Sword Training",contact:"Duncan Idaho",date:"10194-05-01",time:"08:00"},{title:"Ride a Sandworm",contact:"Stilgar",date:"10198-08-13",time:"06:00"},{title:"Bene Gesserit Training",contact:"Jessica Atreides",date:"10220-04-20",time:"10:00"}]),u=Object(s.a)(i,2),m=u[0],b=u[1];Object(c.useEffect)((function(){h(),d()}),[]),Object(c.useEffect)((function(){p()}),[n]),Object(c.useEffect)((function(){f()}),[m]);var h=function(){if(null===localStorage.getItem("contacts"))localStorage.setItem("contacts",JSON.stringify([]));else{var e=JSON.parse(localStorage.getItem("contacts"));a(e)}},d=function(){if(null===localStorage.getItem("appointments"))localStorage.setItem("appointments",JSON.stringify([]));else{var e=JSON.parse(localStorage.getItem("appointments"));b(e)}},p=function(){localStorage.setItem("contacts",JSON.stringify(n))},f=function(){localStorage.setItem("appointments",JSON.stringify(m))},g="/contacts",v="/appointments";return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("nav",{children:[Object(j.jsx)(o.b,{to:g,activeClassName:"active",children:"Contacts"}),Object(j.jsx)(o.b,{to:v,activeClassName:"active",children:"Appointments"})]}),Object(j.jsx)("main",{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",children:Object(j.jsx)(l.a,{to:g})}),Object(j.jsx)(l.b,{path:g,children:Object(j.jsx)(x,{contacts:n,addContact:function(e,t,c,i){var o={name:e,occupation:t,phoneNumber:c,email:i};a([].concat(Object(r.a)(n),[o]))},removeContact:function(e){a(n.filter((function(t,n){return n!==e})))}})}),Object(j.jsx)(l.b,{path:v,children:Object(j.jsx)(O,{contacts:n,appointments:m,addAppointment:function(e,t,n,c){var a={title:e,contact:t,date:n,time:c};b([].concat(Object(r.a)(m),[a]))},removeAppointment:function(e){b(m.filter((function(t,n){return n!==e})))}})})]})})]})};n(31);i.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.0d3f41a8.chunk.js.map